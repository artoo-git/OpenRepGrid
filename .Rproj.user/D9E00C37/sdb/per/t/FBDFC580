{
    "contents" : "#### Focus clustering ####\n\n# One of the first mehods for clustering a grid was implemented in\n# the Focus programme. The clustering procedure itself was also called\n# Focus (Thomas, 1977). Desription of the Focus method can be found in\n# Shaw (1980) and Jankowicz and Thomas (1982).\n#\n# In a first step a matching score is calculated. Focus uses the city block \n# metric as distances between elements and constructs but rescales it \n# between 0 and 100 using the following formula (Shaw, 1980, p.33).\n#\n# \\deqn{d_{ij} \\to \\frac{ -200 d_{ij} }{ (n-1)e } + 100}%\n#\n# where n is the maximum number of the rating scale running from 1 to n and\n# e is the number of elements\n\nx <- boeker\nr <- getRatingLayer(x, trim=trim)             # get ratings\ncmethod=\"ward\"\n\n# dendrogram for constructs\nif (along %in% c(0,2)){\n  # dendrogram for elements\n  d <- dist(t(r), method = dmethod, p=p)        # make distance matrix for elements\n  \n  # rescale manhattan distances according to Shaw, 1980 p.33.\n  sc <- getScale(x)\n  n <- sc[2] - sc[1] + 1                        # maximum of rating scale that starts at 1\n  d <- d * -200 / ((n - 1)*dim(x)[2]) + 100     # rescale\n  \n  # apply focus method\n  \n  fit.elements <- hclust(d, method=cmethod)     # hclust object for elements\n  dend.el <- as.dendrogram(fit.elements)\n  el.ord <- order.dendrogram(dend.el)\n  x <- x[ , el.ord]                             # reorder repgrid object\n}\n\n\n\n# Jankowicz, D., \\& Thomas, L. (1982). An Algorithm for the Cluster Analysis of \n#   Repertory Grids in Human Resource Development. Personnel Review, 11(4), \n#   15â€“22.\n# Shaw, M. L. G. (1980). On Becoming a Personal Scientist: \n#   Inter Active Computer Elicitation of Personal Models of the World. \n#   London, New York: Academic Press.\n# Thomas, L., User's Manual to the \"Focus\" Programme, Centre for the Study of \n#   Human Learning, Brunei University, London, 1977.\n",
    "created" : 1352819799067.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3937501850",
    "id" : "FBDFC580",
    "lastKnownWriteTime" : 1352820469,
    "path" : "~/Documents/R/pkg_dev/grid/OpenRepGrid/dev/focus.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}